<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Create Account - ShopUp</title>

  <!-- ‚úÖ Favicon -->
  <link rel="icon" href="../favicon.ico" />

  <!-- ‚úÖ Global styles (safe to include) -->
  <link rel="stylesheet" href="../css/styles.css" />
  <link rel="stylesheet" href="../css/signup-styles.css" />

  <!-- ‚úÖ Sentry -->
  <script src="https://js-de.sentry-cdn.com/c4c92ac8539373f9c497ba50f31a9900.min.js" crossorigin="anonymous"></script>
  <script src="../js/sentry-config.js"></script>

  <!-- ‚úÖ Supabase module init (single source of truth) -->
  <script type="module" src="/js/supabase-init.js"></script>

  <!-- ‚úÖ Your existing inline CSS (kept to avoid breaking the design) -->
  <style>
    * { margin: 0; padding: 0; box-sizing: border-box; }

    body {
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, sans-serif;
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      min-height: 100vh;
      display: flex;
      align-items: center;
      justify-content: center;
      padding: 20px;
    }

    .register-container {
      background: white;
      border-radius: 20px;
      box-shadow: 0 20px 60px rgba(0,0,0,0.3);
      max-width: 500px;
      width: 100%;
      padding: 40px;
    }

    .logo-section { text-align: center; margin-bottom: 30px; }
    .logo { font-size: 3em; margin-bottom: 10px; }
    .logo-text { font-size: 2em; font-weight: bold; color: #2d8a3e; margin-bottom: 5px; }
    .tagline { color: #666; font-size: 0.95em; }

    h2 { color: #333; margin-bottom: 10px; font-size: 1.8em; }
    .subtitle { color: #666; margin-bottom: 30px; font-size: 0.95em; }

    .form-group { margin-bottom: 20px; }

    label {
      display: block;
      margin-bottom: 8px;
      color: #333;
      font-weight: 600;
      font-size: 0.9em;
    }

    .required { color: #e53935; }

    input[type="text"],
    input[type="email"],
    input[type="password"],
    input[type="tel"] {
      width: 100%;
      padding: 12px 15px;
      border: 2px solid #e0e0e0;
      border-radius: 8px;
      font-size: 1em;
      transition: border-color 0.3s;
    }

    input:focus { outline: none; border-color: #2d8a3e; }
    input.error { border-color: #e53935; }

    .error-message {
      color: #e53935;
      font-size: 0.85em;
      margin-top: 5px;
      display: none;
    }
    .error-message.show { display: block; }

    .password-strength {
      margin-top: 8px;
      height: 4px;
      background: #e0e0e0;
      border-radius: 2px;
      overflow: hidden;
      display: none;
    }
    .password-strength.show { display: block; }

    .password-strength-bar { height: 100%; width: 0%; transition: all 0.3s; }
    .password-strength-bar.weak { width: 33%; background: #e53935; }
    .password-strength-bar.medium { width: 66%; background: #fb8c00; }
    .password-strength-bar.strong { width: 100%; background: #43a047; }

    .password-hint { font-size: 0.85em; color: #666; margin-top: 5px; }

    .checkbox-group {
      display: flex;
      align-items: flex-start;
      margin-bottom: 20px;
    }

    input[type="checkbox"] { margin-right: 10px; margin-top: 3px; }

    .checkbox-label {
      font-size: 0.9em;
      color: #666;
      line-height: 1.5;
    }

    .checkbox-label a { color: #2d8a3e; text-decoration: none; }
    .checkbox-label a:hover { text-decoration: underline; }

    .btn-register {
      width: 100%;
      padding: 15px;
      background: #2d8a3e;
      color: white;
      border: none;
      border-radius: 8px;
      font-size: 1.1em;
      font-weight: 600;
      cursor: pointer;
      transition: background 0.3s;
    }

    .btn-register:hover { background: #236d31; }
    .btn-register:disabled { background: #ccc; cursor: not-allowed; }

    .login-link {
      text-align: center;
      margin-top: 25px;
      color: #666;
      font-size: 0.95em;
    }

    .login-link a { color: #2d8a3e; text-decoration: none; font-weight: 600; }
    .login-link a:hover { text-decoration: underline; }

    .alert {
      padding: 12px 15px;
      border-radius: 8px;
      margin-bottom: 20px;
      display: none;
    }
    .alert.show { display: block; }

    .alert-success {
      background: #e8f5e9;
      color: #2e7d32;
      border-left: 4px solid #43a047;
    }

    .alert-error {
      background: #ffebee;
      color: #c62828;
      border-left: 4px solid #e53935;
    }

    .loading {
      display: none;
      text-align: center;
      margin-top: 15px;
    }
    .loading.show { display: block; }

    .spinner {
      border: 3px solid #f3f3f3;
      border-top: 3px solid #2d8a3e;
      border-radius: 50%;
      width: 30px;
      height: 30px;
      animation: spin 1s linear infinite;
      margin: 0 auto;
    }

    @keyframes spin { 0% { transform: rotate(0deg); } 100% { transform: rotate(360deg); } }

    @media (max-width: 600px) {
      .register-container { padding: 30px 20px; }
      .logo-text { font-size: 1.5em; }
      h2 { font-size: 1.5em; }
    }
  </style>
</head>

<body>
  <div class="register-container">
    <div class="logo-section">
      <div class="logo">üõçÔ∏è</div>
      <div class="logo-text">ShopUp</div>
      <p class="tagline">Start shopping from local sellers</p>
    </div>

    <h2>Create Account</h2>
    <p class="subtitle">Join ShopUp and discover amazing products</p>

    <!-- Alert Messages -->
    <div class="alert alert-success" id="successAlert"></div>
    <div class="alert alert-error" id="errorAlert"></div>

    <!-- Registration Form -->
    <form id="registerForm" autocomplete="on">
      <div class="form-group">
        <label for="firstName">First Name <span class="required">*</span></label>
        <input type="text" id="firstName" name="firstName" required placeholder="John" autocomplete="given-name">
        <div class="error-message" id="firstNameError">Please enter your first name</div>
      </div>

      <div class="form-group">
        <label for="lastName">Last Name <span class="required">*</span></label>
        <input type="text" id="lastName" name="lastName" required placeholder="Doe" autocomplete="family-name">
        <div class="error-message" id="lastNameError">Please enter your last name</div>
      </div>

      <div class="form-group">
        <label for="email">Email Address <span class="required">*</span></label>
        <input type="email" id="email" name="email" required placeholder="john@example.com" autocomplete="email">
        <div class="error-message" id="emailError">Please enter a valid email address</div>
      </div>

      <div class="form-group">
        <label for="phone">Phone Number <span class="required">*</span></label>
        <input type="tel" id="phone" name="phone" required placeholder="+233 24 123 4567" autocomplete="tel">
        <div class="error-message" id="phoneError">Please enter a valid phone number</div>
      </div>

      <div class="form-group">
        <label for="password">Password <span class="required">*</span></label>
        <input type="password" id="password" name="password" required placeholder="Create a strong password" autocomplete="new-password">
        <div class="password-strength" id="passwordStrength">
          <div class="password-strength-bar" id="passwordStrengthBar"></div>
        </div>
        <p class="password-hint">At least 8 characters with uppercase, lowercase, and numbers</p>
        <div class="error-message" id="passwordError">Password must be at least 8 characters</div>
      </div>

      <div class="form-group">
        <label for="confirmPassword">Confirm Password <span class="required">*</span></label>
        <input type="password" id="confirmPassword" name="confirmPassword" required placeholder="Re-enter your password" autocomplete="new-password">
        <div class="error-message" id="confirmPasswordError">Passwords do not match</div>
      </div>

      <div class="checkbox-group">
        <input type="checkbox" id="terms" name="terms" required>
        <label for="terms" class="checkbox-label">
          I agree to the <a href="../terms-of-service.html" target="_blank" rel="noopener">Terms of Service</a>
          and <a href="../privacy-policy.html" target="_blank" rel="noopener">Privacy Policy</a>
        </label>
      </div>

      <div class="checkbox-group">
        <input type="checkbox" id="marketing" name="marketing" checked>
        <label for="marketing" class="checkbox-label">
          Send me updates about new products and special offers
        </label>
      </div>

      <button type="submit" class="btn-register" id="registerBtn">Create Account</button>

      <div class="loading" id="loading">
        <div class="spinner"></div>
        <p>Creating your account...</p>
      </div>
    </form>

    <div class="login-link">
      Already have an account? <a href="customer-login.html">Log in</a>
    </div>
  </div>

  <!-- ‚úÖ Your registration logic -->
  <script defer src="../js/customer-register-script.js"></script>
</body>
</html>
